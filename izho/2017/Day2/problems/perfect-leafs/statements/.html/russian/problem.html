<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <META content="no-cache" http-equiv="pragma">
    <META content="-1" http-equiv="expires">
    <META content="text/html;charset=UTF-8" http-equiv="content-type">
    <LINK href="problem-statement.css" rel="stylesheet" type="text/css">
    <TITLE>Крутой маршрут</TITLE>
</HEAD><BODY>
    <DIV class="problem-statement"><DIV class="header"><DIV class="title">Крутой маршрут</DIV><DIV class="time-limit"><DIV class="property-title">ограничение по времени на тест</DIV>1 секунда</DIV><DIV class="memory-limit"><DIV class="property-title">ограничение по памяти на тест</DIV>256 мегабайт</DIV><DIV class="input-file"><DIV class="property-title">ввод</DIV>road.in</DIV><DIV class="output-file"><DIV class="property-title">вывод</DIV>road.out</DIV></DIV><DIV class="legend"><P>Мансур&nbsp;&mdash; является правителем страны АСМстан. В этой стране <SPAN class="tex-span"><I>N</I></SPAN> городов и <SPAN class="tex-span"><I>N</I>&thinsp;-&thinsp;1</SPAN> двусторонних дорог. Известно что, с каждого города можно добраться до любого другого двигаясь по существующим дорогам. Более формально: страна выглядит как дерево, где вершинами являются города, а ребра двусторонние дороги.</P><P>Также, в этой стране города из которых выходит <SPAN class="tex-font-style-bf">ровно одна</SPAN> дорога называются <SPAN class="tex-font-style-it">конечными</SPAN>. Маршрутом называется простой путь от одного <SPAN class="tex-font-style-it">конечного</SPAN> города до другого <SPAN class="tex-font-style-it">конечного</SPAN> города. Расстояние между двумя городами есть минимальное число дорог которое требуется пройти чтобы дойти от одного города до другого. Расстоянием от какого-либо города до маршрута есть минимальное количество дорог, которое требуется пройти от заданного города до какого-либо города на маршруте. Мансур решил внедрить в город <SPAN class="tex-font-style-bf">ровно один</SPAN> маршрут, но Мансур заинтересован только в <SPAN class="tex-font-style-it">крутых</SPAN> маршрутах. Крутость маршрута считается следующим способом: пусть <SPAN class="tex-span"><I>A</I></SPAN> и <SPAN class="tex-span"><I>B</I></SPAN> это <SPAN class="tex-font-style-it">конечные</SPAN> города данного маршрута, а <SPAN class="tex-span"><I>H</I></SPAN> это максимальное расстояние от какого-либо города в стране до этого маршрута, тогда <SPAN class="tex-font-style-it">крутость</SPAN> данного маршрута это произведение расстояния между <SPAN class="tex-span"><I>A</I></SPAN> и <SPAN class="tex-span"><I>B</I></SPAN> на <SPAN class="tex-span"><I>H</I></SPAN>.</P><P>Мансур дал задание Темирулану найти максимальную <SPAN class="tex-font-style-it">крутость</SPAN> среди всех маршрутов, более того ему интересно знать количество таких маршрутов. Темирулан просит помощи у Вас. </P><P>Настоятельно рекомендуем прочесть пояснение к примеру.</P></DIV><P></P><P></P><DIV class="input-specification"><DIV class="section-title">Входные данные</DIV><P></P><P>В первой строке входных данных содержится целое положительное число <SPAN class="tex-span"><I>N</I></SPAN> (<SPAN class="tex-span">2&thinsp;&le;&thinsp;<I>N</I>&thinsp;&le;&thinsp;500000</SPAN>)&nbsp;&mdash; количество городов в стране. Города пронумерованы от <SPAN class="tex-span">1</SPAN> до <SPAN class="tex-span"><I>N</I></SPAN>. В следующих <SPAN class="tex-span"><I>N</I>&thinsp;-&thinsp;1</SPAN> строках содержится по <SPAN class="tex-span">2</SPAN> целых положительных числа, разделенных пробелом, <SPAN class="tex-span"><I>u</I><SUB class="lower-index"><I>i</I></SUB></SPAN>, <SPAN class="tex-span"><I>v</I><SUB class="lower-index"><I>i</I></SUB></SPAN> (<SPAN class="tex-span">1&thinsp;&le;&thinsp;<I>u</I><SUB class="lower-index"><I>i</I></SUB>,&thinsp;<I>v</I><SUB class="lower-index"><I>i</I></SUB>&thinsp;&le;&thinsp;<I>N</I>;<I>u</I><SUB class="lower-index"><I>i</I></SUB>&thinsp;&ne;&thinsp;<I>v</I><SUB class="lower-index"><I>i</I></SUB></SPAN>)&nbsp;&mdash; дорога соединяющая города <SPAN class="tex-span"><I>u</I><SUB class="lower-index"><I>i</I></SUB></SPAN> и <SPAN class="tex-span"><I>v</I><SUB class="lower-index"><I>i</I></SUB></SPAN>. Гарантируется, что заданный граф дерево.</P></DIV><P></P><P></P><DIV class="output-specification"><DIV class="section-title">Выходные данные</DIV><P></P><P>В единственной строке выходных данных выведите два целых числа&nbsp;&mdash; максимальную <SPAN class="tex-font-style-it">крутость</SPAN> и количество маршрутов, разделенные пробелом. <SPAN class="tex-font-style-bf">Обратите внимание</SPAN>, что маршрут от <SPAN class="tex-span"><I>A</I></SPAN> до <SPAN class="tex-span"><I>B</I></SPAN> и маршрут от <SPAN class="tex-span"><I>B</I></SPAN> до <SPAN class="tex-span"><I>A</I></SPAN> считаются <SPAN class="tex-font-style-bf">одним и тем же</SPAN> маршрутом.</P></DIV><P></P><P></P><DIV class="scoring"><DIV class="section-title">Система оценки</DIV><P></P><P>Данная задача содержит три подзадачи: </P><OL type="1"> <LI> <SPAN class="tex-span">2&thinsp;&le;&thinsp;<I>N</I>&thinsp;&le;&thinsp;100</SPAN>. Оценивается в <SPAN class="tex-span">19</SPAN> баллов. </LI><LI> <SPAN class="tex-span">2&thinsp;&le;&thinsp;<I>N</I>&thinsp;&le;&thinsp;5000</SPAN>. Оценивается в <SPAN class="tex-span">33</SPAN> баллов. </LI><LI> <SPAN class="tex-span">2&thinsp;&le;&thinsp;<I>N</I>&thinsp;&le;&thinsp;500000</SPAN>. Оценивается в <SPAN class="tex-span">48</SPAN> баллов. </LI></OL><P></P><P>Каждая подзадача оценивается только при прохождении всех предыдущих.</P></DIV><P></P><P></P><DIV class="sample-tests"><DIV class="section-title">Примеры</DIV><P></P><P></P><DIV class="sample-test"><DIV class="input"><DIV class="title">Входные данные</DIV><PRE class="content">7<BR>1 2<BR>1 3<BR>2 4<BR>2 5<BR>3 6<BR>3 7<BR></PRE></DIV><DIV class="output"><DIV class="title">Выходные данные</DIV><PRE class="content">6 2<BR></PRE></DIV><DIV class="input"><DIV class="title">Входные данные</DIV><PRE class="content">4<BR>1 2<BR>2 3<BR>2 4<BR></PRE></DIV><DIV class="output"><DIV class="title">Выходные данные</DIV><PRE class="content">2 3<BR></PRE></DIV><DIV class="input"><DIV class="title">Входные данные</DIV><PRE class="content">5<BR>1 2<BR>2 3<BR>3 4<BR>4 5<BR></PRE></DIV><DIV class="output"><DIV class="title">Выходные данные</DIV><PRE class="content">0 1<BR></PRE></DIV></DIV></DIV><P></P><P></P><DIV class="note"><DIV class="section-title">Примечание</DIV><P></P><P>Путь называется простым, если вершины в нем не повторяются. Обратите внимание, что не все простые пути являются <SPAN class="tex-font-style-it">маршрутом</SPAN>.</P><P>В первом тестовом примере:</P><P>Четыре <SPAN class="tex-font-style-it">конечных</SPAN> города с номерами 4, 5, 6 и 7. Если выбрать маршрутом путь 4-2-1-3-6, то расстояние между ними равно 4 и расстояния от других городов до этого маршрута равны [1, 1], максимальное среди них 1, соответственно <SPAN class="tex-font-style-it">крутость</SPAN> маршрута равна <SPAN class="tex-span">4&thinsp;&times;&thinsp;1&thinsp;=&thinsp;4</SPAN>. А если выбрать маршрутом путь 4-2-5, то расстояние равно 2, а максимальное расстояние до этого маршрута равно 3, <SPAN class="tex-font-style-it">крутость</SPAN> маршрута равна <SPAN class="tex-span">3&thinsp;&times;&thinsp;2&thinsp;=&thinsp;6</SPAN>. <SPAN class="tex-font-style-it">Крутость</SPAN> маршрута 6-3-7 также равна 6, остальные маршруты имеют меньшую <SPAN class="tex-font-style-it">крутость</SPAN>.</P><P>В третьем тестовом примере есть только два <SPAN class="tex-font-style-it">конечных</SPAN> города 1 и 5, поэтому есть ровно один маршрут 1-2-3-4-5, расстояние равно 4, а максимальное расстояние до этого маршрута равно 0, т.к. все города лежат на этом маршруте. Соответственно <SPAN class="tex-font-style-it">крутость</SPAN> равна <SPAN class="tex-span">4&thinsp;&times;&thinsp;0&thinsp;=&thinsp;0</SPAN>.</P></DIV></DIV><P></P><P>  

</P></BODY></HTML>