{"scoring":"Данная задача содержит три подзадачи:\r\n\\begin{enumerate}\r\n\\item $2 \\le N \\le 100$. Оценивается в $19$ баллов.\r\n\\item $2 \\le N \\le 5000$. Оценивается в $33$ баллов.\r\n\\item $2 \\le N \\le 500000$. Оценивается в $48$ баллов.\r\n\\end{enumerate}\r\n\r\nКаждая подзадача оценивается только при прохождении всех предыдущих.","notes":"Путь называется простым, если вершины в нем не повторяются. Обратите внимание, что не все простые пути являются \\textit{маршрутом}.\r\n\r\nВ первом тестовом примере:\r\n\r\nЧетыре \\textit{конечных} города с номерами 4, 5, 6 и 7. Если выбрать маршрутом путь 4-2-1-3-6, то расстояние между ними равно 4 и расстояния от других городов до этого маршрута равны [1, 1], максимальное среди них 1, соответственно \\textit{крутость} маршрута равна $4 \\times 1 = 4$. А если выбрать маршрутом путь 4-2-5, то расстояние равно 2, а максимальное расстояние до этого маршрута равно 3, \\textit{крутость} маршрута равна $3 \\times 2 = 6$. \\textit{Крутость} маршрута 6-3-7 также равна 6, остальные маршруты имеют меньшую \\textit{крутость}.\r\n\r\nВ третьем тестовом примере есть только два \\textit{конечных} города 1 и 5, поэтому есть ровно один маршрут 1-2-3-4-5, расстояние равно 4, а максимальное расстояние до этого маршрута равно 0, т.к. все города лежат на этом маршруте. Соответственно \\textit{крутость} равна $4 \\times 0 = 0$.","legend":"Мансур~--- является правителем страны АСМстан. В этой стране $N$ городов и $N-1$ двусторонних дорог. Известно что, с каждого города можно добраться до любого другого двигаясь по существующим дорогам. Более формально: страна выглядит как дерево, где вершинами являются города, а ребра двусторонние дороги.\r\n\r\nТакже, в этой стране города из которых выходит \\textbf{ровно одна} дорога называются \\textit{конечными}. Маршрутом называется простой путь от одного \\textit{конечного} города до другого \\textit{конечного} города. Расстояние между двумя городами есть минимальное число дорог которое требуется пройти чтобы дойти от одного города до другого. Расстоянием от какого-либо города до маршрута есть минимальное количество дорог, которое требуется пройти от заданного города до какого-либо города на маршруте. Мансур решил внедрить в город \\textbf{ровно один} маршрут, но Мансур заинтересован только в \\textit{крутых} маршрутах. Крутость маршрута считается следующим способом: пусть $A$ и $B$ это \\textit{конечные} города данного маршрута, а $H$ это максимальное расстояние от какого-либо города в стране до этого маршрута, тогда \\textit{крутость} данного маршрута это произведение расстояния между $A$ и $B$ на $H$.\r\n\r\nМансур дал задание Темирулану найти максимальную \\textit{крутость} среди всех маршрутов, более того ему интересно знать количество таких маршрутов. Темирулан просит помощи у Вас. \r\n\r\nНастоятельно рекомендуем прочесть пояснение к примеру.","authorLogin":"Temirulan","language":"russian","timeLimit":1000,"output":"В единственной строке выходных данных выведите два целых числа~--- максимальную \\textit{крутость} и количество маршрутов, разделенные пробелом. \\textbf{Обратите внимание}, что маршрут от $A$ до $B$ и маршрут от $B$ до $A$ считаются \\textbf{одним и тем же} маршрутом.","inputFile":"road.in","outputFile":"road.out","input":"В первой строке входных данных содержится целое положительное число $N$ ($2 \\le N \\le 500000$)~--- количество городов в стране. Города пронумерованы от $1$ до $N$. В следующих $N-1$ строках содержится по $2$ целых положительных числа, разделенных пробелом, $u_i$, $v_i$ ($1 \\le u_i, v_i \\le N; u_i \\neq v_i$)~--- дорога соединяющая города $u_i$ и $v_i$. Гарантируется, что заданный граф дерево.","authorName":"Temirulan Mussayev","sampleTests":[{"output":"6 2\r\n","input":"7\r\n1 2\r\n1 3\r\n2 4\r\n2 5\r\n3 6\r\n3 7\r\n"},{"output":"2 3\r\n","input":"4\r\n1 2\r\n2 3\r\n2 4\r\n"},{"output":"0 1\r\n","input":"5\r\n1 2\r\n2 3\r\n3 4\r\n4 5\r\n"}],"name":"Крутой маршрут","interaction":null,"memoryLimit":268435456,"tutorial":""}